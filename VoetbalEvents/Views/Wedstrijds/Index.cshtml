@model IEnumerable<Info_Systeem_Eventplanner.Models.Event>

@{
    ViewData["Title"] = "Evenementen Overzicht";
}

<h1 class="mb-4">Evenementen</h1>

<!-- Zoekbalk -->
<form method="get" action="/">
    <div class="input-group mb-4">
        <input type="text" class="form-control" name="searchQuery" placeholder="Zoek naar een evenement..." value="@ViewBag.SearchQuery" />
        <button class="btn btn-primary" type="submit">Zoeken</button>
    </div>
</form>

<!-- Evenementen in cards -->
<div class="row">
    @foreach (var eventItem in Model)
    {
        <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
                <img src="@Url.Content(eventItem.ImagePath)" class="card-img-top" alt="@eventItem.EventName afbeelding" style="height: 200px; object-fit: cover;" />

                <div class="card-body">
                    <h5 class="card-title">@eventItem.EventName</h5>
                    <p class="card-text">@eventItem.EventDescription</p>

                    <p class="card-text">
                        <strong>Datum:</strong> @eventItem.DateTime.ToString("dd MMM yyyy HH:mm")<br />
                        <strong>Plaatsen beschikbaar:</strong> @eventItem.AvailableSpots
                    </p>

                    <!-- Links naar bewerken en details -->
                    <div class="d-flex justify-content-between align-items-center">
                        <a class="btn btn-sm btn-primary" href="/Events/Edit/@eventItem.EventID">Bewerken</a>
                        <a class="btn btn-sm btn-secondary" href="/Events/Details/@eventItem.EventID">Details</a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
